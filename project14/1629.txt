def parse_time(time_str: str) -> int:    """    Parses time in HH:MM format to minutes since midnight.    :param time_str: (str): A string shows the time in HH:MM format.    :return int: The number of minutes since midnight.    """    hh, mm = map(int, time_str.split(':'))    return hh * 60 + mmdef main() -> None:    """    Main function to simulate the journey    It reads input data, calculates the earliest    arrival time considering flight delays,    and prints the total time in minutes.    :return None:    """    # Read number of cities    n = int(input().strip())    ans = 0    for i in range(n - 1):        q, d, t = map(int, input().strip().split())        flight_times = []        departure_times = input().strip().split()        for departure_time in departure_times:            flight_time = parse_time(departure_time)            for k in range(2 * n + 1):                flight_times.append(flight_time + k * 24 * 60 + d)        flight_times.sort()        next_flight = next(f for f in flight_times if f >= ans)        ans = next_flight + t    print(ans)if __name__ == "__main__":    main()